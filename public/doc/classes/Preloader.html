<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Preloader - kingkong</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.8.0pr2/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <script src="http://yui.yahooapis.com/combo?3.8.0pr2/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            <h1><a href="../index.html"><img src="../assets/css/kong-header.png" width="389" height="100">kingkong: Preloader v0.3.4</a></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.3.4</em>
        </div>
    </div>
    <div class="yui3-g">

        <div id="sidebar" class="yui3-u">
            <div id="modules" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Modules</h2>
                </div>
                <div class="bd">
                    <ul>
                    </ul>
                </div>
            </div>
            
            <div id="classes" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Classes</h2>
                </div>
                <div class="bd">
                    <ul>
                            <li><a href="../classes/BigWinComponent.html">BigWinComponent</a></li>
                            <li><a href="../classes/Command.html">Command</a></li>
                            <li><a href="../classes/CommandQueue.html">CommandQueue</a></li>
                            <li><a href="../classes/CustomCommand.html">CustomCommand</a></li>
                            <li><a href="../classes/Dj.html">Dj</a></li>
                            <li><a href="../classes/FireworksCommand.html">FireworksCommand</a></li>
                            <li><a href="../classes/G.BigWinCommand.html">G.BigWinCommand</a></li>
                            <li><a href="../classes/GaffeButton.html">GaffeButton</a></li>
                            <li><a href="../classes/GaffeMenuComponent.html">GaffeMenuComponent</a></li>
                            <li><a href="../classes/Game.html">Game</a></li>
                            <li><a href="../classes/GameComponent.html">GameComponent</a></li>
                            <li><a href="../classes/GameData.html">GameData</a></li>
                            <li><a href="../classes/Main.html">Main</a></li>
                            <li><a href="../classes/MeterComponent.html">MeterComponent</a></li>
                            <li><a href="../classes/ParticlesComponent.html">ParticlesComponent</a></li>
                            <li><a href="../classes/Preloader.html">Preloader</a></li>
                            <li><a href="../classes/QueueFactory.html">QueueFactory</a></li>
                            <li><a href="../classes/Reel.html">Reel</a></li>
                            <li><a href="../classes/ReelsComponent.html">ReelsComponent</a></li>
                            <li><a href="../classes/ServerInterface.html">ServerInterface</a></li>
                            <li><a href="../classes/SignalDispatcher.html">SignalDispatcher</a></li>
                            <li><a href="../classes/SpinEvaluator.html">SpinEvaluator</a></li>
                            <li><a href="../classes/SymbolAnimCommand.html">SymbolAnimCommand</a></li>
                            <li><a href="../classes/SymbolWinsComponent.html">SymbolWinsComponent</a></li>
                            <li><a href="../classes/Utils.html">Utils</a></li>
                            <li><a href="../classes/WinLine.html">WinLine</a></li>
                            <li><a href="../classes/WinLineCommand.html">WinLineCommand</a></li>
                            <li><a href="../classes/WinLinesComponent.html">WinLinesComponent</a></li>
                    </ul>
                </div>
            </div>
            
            <div id="methods-on-page" class="sidebox on-page">
                <div class="hd">
                    <h2 class="no-toc">Methods On Page</h2>
                </div>
                <div class="bd">
                    <ul>
                            <li><a href="#methods_handleAssetsError">handleAssetsError</a></li>
                            <li><a href="#methods_handleAssetsFile">handleAssetsFile</a></li>
                            <li><a href="#methods_handleAssetsLoaded">handleAssetsLoaded</a></li>
                            <li><a href="#methods_handleAssetsProgress -">handleAssetsProgress -</a></li>
                            <li><a href="#methods_handleSetupLoaded">handleSetupLoaded</a></li>
                            <li><a href="#methods_loadGameAssets">loadGameAssets</a></li>
                            <li><a href="#methods_startLoad">startLoad</a></li>
                    </ul>
                </div>
            </div>
            
            
            
            
            <div id="fileTree" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Files</h2>
                </div>
                <div class="bd">
                    <ul><li>public/<ul><li>javascripts/<ul><li>app/<ul><li><a href="../files/public_javascripts_app_Main.js.html">Main.js</a></li><li>commands/<ul><li><a href="../files/public_javascripts_app_commands_BigWinCommand.js.html">BigWinCommand.js</a></li><li><a href="../files/public_javascripts_app_commands_Command.js.html">Command.js</a></li><li><a href="../files/public_javascripts_app_commands_CommandQueue.js.html">CommandQueue.js</a></li><li><a href="../files/public_javascripts_app_commands_CustomCommand.js.html">CustomCommand.js</a></li><li><a href="../files/public_javascripts_app_commands_FireworksCommand.js.html">FireworksCommand.js</a></li><li><a href="../files/public_javascripts_app_commands_RemoveBigWinCommand.js.html">RemoveBigWinCommand.js</a></li><li><a href="../files/public_javascripts_app_commands_SymbolAnimCommand.js.html">SymbolAnimCommand.js</a></li><li><a href="../files/public_javascripts_app_commands_WinLineCommand.js.html">WinLineCommand.js</a></li></ul></li><li>components/<ul><li><a href="../files/public_javascripts_app_components_BigWinComponent.js.html">BigWinComponent.js</a></li><li><a href="../files/public_javascripts_app_components_Dj.js.html">Dj.js</a></li><li><a href="../files/public_javascripts_app_components_GaffeButton.js.html">GaffeButton.js</a></li><li><a href="../files/public_javascripts_app_components_GaffeMenuComponent.js.html">GaffeMenuComponent.js</a></li><li><a href="../files/public_javascripts_app_components_GameComponent.js.html">GameComponent.js</a></li><li><a href="../files/public_javascripts_app_components_MeterComponent.js.html">MeterComponent.js</a></li><li><a href="../files/public_javascripts_app_components_ParticlesComponent.js.html">ParticlesComponent.js</a></li><li><a href="../files/public_javascripts_app_components_Reel.js.html">Reel.js</a></li><li><a href="../files/public_javascripts_app_components_ReelsComponent.js.html">ReelsComponent.js</a></li><li><a href="../files/public_javascripts_app_components_SymbolWinsComponent.js.html">SymbolWinsComponent.js</a></li><li><a href="../files/public_javascripts_app_components_WinLine.js.html">WinLine.js</a></li><li><a href="../files/public_javascripts_app_components_WinLinesComponent.js.html">WinLinesComponent.js</a></li></ul></li><li>core/<ul><li><a href="../files/public_javascripts_app_core_Game.js.html">Game.js</a></li><li><a href="../files/public_javascripts_app_core_GameData.js.html">GameData.js</a></li><li><a href="../files/public_javascripts_app_core_Preloader.js.html">Preloader.js</a></li><li><a href="../files/public_javascripts_app_core_ServerInterface.js.html">ServerInterface.js</a></li><li><a href="../files/public_javascripts_app_core_SignalDispatcher.js.html">SignalDispatcher.js</a></li><li><a href="../files/public_javascripts_app_core_SpinEvaluator.js.html">SpinEvaluator.js</a></li></ul></li><li>utils/<ul><li><a href="../files/public_javascripts_app_utils_QueueFactory.js.html">QueueFactory.js</a></li><li><a href="../files/public_javascripts_app_utils_Utils.js.html">Utils.js</a></li></ul></li></ul></li></ul></li></ul></li></ul>
                </div>
            </div>
            
        </div>

        <div id="main" class="yui3-u">
            <div class="content"><h4>Class Preloader</h4>
<span class="foundat">Class defined in: <a href="../files/public_javascripts_app_core_Preloader.js.html#l9"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;Preloader.js:9</code></a></span>
<div class="intro"><p>Responsible for loading setup.json config file, then sound and graphic assets.
These include, spritesheets, and data in the form of json files
It will then dispatch signals back to the Game for notification and safe caching of assets.
Currently uses PreloadJS - see <a href="http://createjs.com/Docs/PreloadJS/modules/PreloadJS.html">http://createjs.com/Docs/PreloadJS/modules/PreloadJS.html</a></p>
</div>

    <a name="methods_Preloader"></a>
    <div class="method item">
         <strong class="name"><code>Preloader</code></strong>( <code>  </code> ) 
        <br>
        <span class="foundat">
            
            <a href="../files/public_javascripts_app_core_Preloader.js.html#l9"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;Preloader.js:9</code></a>
        </span><br>
        
    </div>

<div id="classdocs">
    <ul>
        <li><a href="#methods">Methods</a></li>
        <li><a href="#props">Properties</a></li>
    </ul>
    <div>
            <div id="methods">
<a name="methods_handleAssetsError"></a>
<div class="method item">
     <strong class="name"><code>handleAssetsError</code></strong>( <code>e </code> ) 
    <br>
    <span class="foundat">
        
        <a href="../files/public_javascripts_app_core_Preloader.js.html#l152"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;Preloader.js:152</code></a>
    </span><br>
    <p>handle errors in asset loading phase gracefully</p>

    <strong>Parameters:</strong>
    <ul class="params">
        <li>
            <code>e</code> <strong>&lt;createjs.Event&gt;</strong>
        <ul>
<li>The error event.</li>
</ul>

        </li>
    </ul>
</div>
<a name="methods_handleAssetsFile"></a>
<div class="method item">
     <strong class="name"><code>handleAssetsFile</code></strong>( <code>e </code> ) 
    <br>
    <span class="foundat">
        
        <a href="../files/public_javascripts_app_core_Preloader.js.html#l174"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;Preloader.js:174</code></a>
    </span><br>
    <p>debug loading of game assets</p>

    <strong>Parameters:</strong>
    <ul class="params">
        <li>
            <code>e</code> <strong>&lt;createjs.Event&gt;</strong>
        <ul>
<li>the file load event</li>
</ul>

        </li>
    </ul>
</div>
<a name="methods_handleAssetsLoaded"></a>
<div class="method item">
     <strong class="name"><code>handleAssetsLoaded</code></strong>( <code>  </code> ) 
    <br>
    <span class="foundat">
        
        <a href="../files/public_javascripts_app_core_Preloader.js.html#l182"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;Preloader.js:182</code></a>
    </span><br>
    <p>All game assets have completed loading, now update visible load state information
and dispatch a Signal to game and pass assets.
This is done on a setTimeout to prevent a bug probably related to too much strain on the cpu</p>

</div>
<a name="methods_handleAssetsProgress -"></a>
<div class="method item">
     <strong class="name"><code>handleAssetsProgress -</code></strong>( <code>e </code> ) 
    <br>
    <span class="foundat">
        
        <a href="../files/public_javascripts_app_core_Preloader.js.html#l161"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;Preloader.js:161</code></a>
    </span><br>
    <p>handle progress of game assets</p>

    <strong>Parameters:</strong>
    <ul class="params">
        <li>
            <code>e</code> <strong>&lt;createjs.Event&gt;</strong>
        <ul>
<li>The progress event</li>
</ul>

        </li>
    </ul>
</div>
<a name="methods_handleSetupLoaded"></a>
<div class="method item">
     <strong class="name"><code>handleSetupLoaded</code></strong>( <code>e </code> ) 
    <br>
    <span class="foundat">
        
        <a href="../files/public_javascripts_app_core_Preloader.js.html#l118"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;Preloader.js:118</code></a>
    </span><br>
    <p>dispatches a Signal to Game passes the setup file then loads Game assets</p>

    <strong>Parameters:</strong>
    <ul class="params">
        <li>
            <code>e</code> <strong>&lt;createjs.Event&gt;</strong>
        <ul>
<li>the load complete event</li>
</ul>

        </li>
    </ul>
</div>
<a name="methods_loadGameAssets"></a>
<div class="method item">
     <strong class="name"><code>loadGameAssets</code></strong>( <code>  </code> ) 
    <br>
    <span class="foundat">
        
        <a href="../files/public_javascripts_app_core_Preloader.js.html#l130"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;Preloader.js:130</code></a>
    </span><br>
    <p>loads spritesheets, images and sounds manifests defined in Setup</p>

</div>
<a name="methods_startLoad"></a>
<div class="method item">
     <strong class="name"><code>startLoad</code></strong>( <code>  </code> ) 
    <br>
    <span class="foundat">
        
        <a href="../files/public_javascripts_app_core_Preloader.js.html#l109"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;Preloader.js:109</code></a>
    </span><br>
    <p>Starts the setupLoader load queue.</p>

</div>
            </div>
            <div id="props">
                <a name="props_assetsLoaded"></a>
                <div class="props item">
                    <code>assetsLoaded</code> &lt;<strong>Signal</strong>&gt;<br>
                    <span class="foundat"><a href="../files/public_javascripts_app_core_Preloader.js.html#l63"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;Preloader.js:63</code></a></span>
                    <p>When the assetsLoader complete event is fired, this signal is dispatched notifying the Game, and loaded assets passed with it.</p>
                
                </div>
                <a name="props_assetsLoader"></a>
                <div class="props item">
                    <code>assetsLoader</code> &lt;<strong>createjs.LoadQueue</strong>&gt;<br>
                    <span class="foundat"><a href="../files/public_javascripts_app_core_Preloader.js.html#l42"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;Preloader.js:42</code></a></span>
                    <p>The load queue which will load game assets, like sounds, spritesheets and other images.
                Currently there seems to be some unexpected behaviour where spritesheet image file loading is completed after the assetLoader.complete event is fired,
                leading to premature application initiation.  This has been raised with the PreloadJS team and the issue can be followed here: <a href="https://github.com/CreateJS/PreloadJS/issues/129">https://github.com/CreateJS/PreloadJS/issues/129</a>
                In the meantime we are separately loading the spritesheet.pngs via the loader to ensure they are loaded before our preloader element is removed.
                The drawback of this is that the spritesheet.pngs get preloaded AND loaded after the app is initialised.  Although the 2nd load will likely be from cache.</p>
                
                </div>
                <a name="props_progressEl"></a>
                <div class="props item">
                    <code>progressEl</code> &lt;<strong>HTMLElement</strong>&gt;<br>
                    <span class="foundat"><a href="../files/public_javascripts_app_core_Preloader.js.html#l79"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;Preloader.js:79</code></a></span>
                    <p>The HTML element displaying preloader information</p>
                
                </div>
                <a name="props_setup"></a>
                <div class="props item">
                    <code>setup</code> &lt;<strong>Object</strong>&gt;<br>
                    <span class="foundat"><a href="../files/public_javascripts_app_core_Preloader.js.html#l71"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;Preloader.js:71</code></a></span>
                    <p>The loaded config file (setup.json).</p>
                
                </div>
                <a name="props_setupComplete"></a>
                <div class="props item">
                    <code>setupComplete</code> &lt;<strong>Signal</strong>&gt;<br>
                    <span class="foundat"><a href="../files/public_javascripts_app_core_Preloader.js.html#l55"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;Preloader.js:55</code></a></span>
                    <p>When the setupLoader complete event is fired, this signal is dispatched notifying the Game.</p>
                
                </div>
                <a name="props_setupLoader"></a>
                <div class="props item">
                    <code>setupLoader</code> &lt;<strong>createjs.LoadQueue</strong>&gt;<br>
                    <span class="foundat"><a href="../files/public_javascripts_app_core_Preloader.js.html#l32"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;Preloader.js:32</code></a></span>
                    <p>The load queue which will load configuration files.
                Currently only loading the setup.json file, but any future configuration eg. language file could be added to this load queue.</p>
                
                </div>
            </div>
    </div>
</div>
</div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/js/tabs.js"></script>
</body>
</html>
