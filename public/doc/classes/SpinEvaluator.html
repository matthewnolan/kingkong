<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>SpinEvaluator - kingkong</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.8.0pr2/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <script src="http://yui.yahooapis.com/combo?3.8.0pr2/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            <h1><a href="../index.html"><img src="../assets/css/kong-header.png" width="389" height="100">kingkong: SpinEvaluator v0.3.4</a></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.3.4</em>
        </div>
    </div>
    <div class="yui3-g">

        <div id="sidebar" class="yui3-u">
            <div id="modules" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Modules</h2>
                </div>
                <div class="bd">
                    <ul>
                    </ul>
                </div>
            </div>
            
            <div id="classes" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Classes</h2>
                </div>
                <div class="bd">
                    <ul>
                            <li><a href="../classes/BigWinComponent.html">BigWinComponent</a></li>
                            <li><a href="../classes/Command.html">Command</a></li>
                            <li><a href="../classes/CommandQueue.html">CommandQueue</a></li>
                            <li><a href="../classes/CustomCommand.html">CustomCommand</a></li>
                            <li><a href="../classes/Dj.html">Dj</a></li>
                            <li><a href="../classes/FireworksCommand.html">FireworksCommand</a></li>
                            <li><a href="../classes/G.BigWinCommand.html">G.BigWinCommand</a></li>
                            <li><a href="../classes/GaffeButton.html">GaffeButton</a></li>
                            <li><a href="../classes/GaffeMenuComponent.html">GaffeMenuComponent</a></li>
                            <li><a href="../classes/Game.html">Game</a></li>
                            <li><a href="../classes/GameComponent.html">GameComponent</a></li>
                            <li><a href="../classes/GameData.html">GameData</a></li>
                            <li><a href="../classes/Main.html">Main</a></li>
                            <li><a href="../classes/MeterComponent.html">MeterComponent</a></li>
                            <li><a href="../classes/ParticlesComponent.html">ParticlesComponent</a></li>
                            <li><a href="../classes/Preloader.html">Preloader</a></li>
                            <li><a href="../classes/QueueFactory.html">QueueFactory</a></li>
                            <li><a href="../classes/Reel.html">Reel</a></li>
                            <li><a href="../classes/ReelsComponent.html">ReelsComponent</a></li>
                            <li><a href="../classes/ServerInterface.html">ServerInterface</a></li>
                            <li><a href="../classes/SignalDispatcher.html">SignalDispatcher</a></li>
                            <li><a href="../classes/SpinEvaluator.html">SpinEvaluator</a></li>
                            <li><a href="../classes/SymbolAnimCommand.html">SymbolAnimCommand</a></li>
                            <li><a href="../classes/SymbolWinsComponent.html">SymbolWinsComponent</a></li>
                            <li><a href="../classes/Utils.html">Utils</a></li>
                            <li><a href="../classes/WinLine.html">WinLine</a></li>
                            <li><a href="../classes/WinLineCommand.html">WinLineCommand</a></li>
                            <li><a href="../classes/WinLinesComponent.html">WinLinesComponent</a></li>
                    </ul>
                </div>
            </div>
            
            <div id="methods-on-page" class="sidebox on-page">
                <div class="hd">
                    <h2 class="no-toc">Methods On Page</h2>
                </div>
                <div class="bd">
                    <ul>
                            <li><a href="#methods_doClientSideGaffe">doClientSideGaffe</a></li>
                            <li><a href="#methods_getNumWinsOnPayline">getNumWinsOnPayline</a></li>
                            <li><a href="#methods_getSymbolDataOnPayline">getSymbolDataOnPayline</a></li>
                            <li><a href="#methods_getSymbolLabelsOnPayline">getSymbolLabelsOnPayline</a></li>
                            <li><a href="#methods_handleReeSpinComplete">handleReeSpinComplete</a></li>
                            <li><a href="#methods_init">init</a></li>
                            <li><a href="#methods_insertBigWinCommands">insertBigWinCommands</a></li>
                            <li><a href="#methods_queueWinAnimation">queueWinAnimation</a></li>
                    </ul>
                </div>
            </div>
            
            
            
            
            <div id="fileTree" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Files</h2>
                </div>
                <div class="bd">
                    <ul><li>public/<ul><li>javascripts/<ul><li>app/<ul><li><a href="../files/public_javascripts_app_Main.js.html">Main.js</a></li><li>commands/<ul><li><a href="../files/public_javascripts_app_commands_BigWinCommand.js.html">BigWinCommand.js</a></li><li><a href="../files/public_javascripts_app_commands_Command.js.html">Command.js</a></li><li><a href="../files/public_javascripts_app_commands_CommandQueue.js.html">CommandQueue.js</a></li><li><a href="../files/public_javascripts_app_commands_CustomCommand.js.html">CustomCommand.js</a></li><li><a href="../files/public_javascripts_app_commands_FireworksCommand.js.html">FireworksCommand.js</a></li><li><a href="../files/public_javascripts_app_commands_RemoveBigWinCommand.js.html">RemoveBigWinCommand.js</a></li><li><a href="../files/public_javascripts_app_commands_SymbolAnimCommand.js.html">SymbolAnimCommand.js</a></li><li><a href="../files/public_javascripts_app_commands_WinLineCommand.js.html">WinLineCommand.js</a></li></ul></li><li>components/<ul><li><a href="../files/public_javascripts_app_components_BigWinComponent.js.html">BigWinComponent.js</a></li><li><a href="../files/public_javascripts_app_components_Dj.js.html">Dj.js</a></li><li><a href="../files/public_javascripts_app_components_GaffeButton.js.html">GaffeButton.js</a></li><li><a href="../files/public_javascripts_app_components_GaffeMenuComponent.js.html">GaffeMenuComponent.js</a></li><li><a href="../files/public_javascripts_app_components_GameComponent.js.html">GameComponent.js</a></li><li><a href="../files/public_javascripts_app_components_MeterComponent.js.html">MeterComponent.js</a></li><li><a href="../files/public_javascripts_app_components_ParticlesComponent.js.html">ParticlesComponent.js</a></li><li><a href="../files/public_javascripts_app_components_Reel.js.html">Reel.js</a></li><li><a href="../files/public_javascripts_app_components_ReelsComponent.js.html">ReelsComponent.js</a></li><li><a href="../files/public_javascripts_app_components_SymbolWinsComponent.js.html">SymbolWinsComponent.js</a></li><li><a href="../files/public_javascripts_app_components_WinLine.js.html">WinLine.js</a></li><li><a href="../files/public_javascripts_app_components_WinLinesComponent.js.html">WinLinesComponent.js</a></li></ul></li><li>core/<ul><li><a href="../files/public_javascripts_app_core_Game.js.html">Game.js</a></li><li><a href="../files/public_javascripts_app_core_GameData.js.html">GameData.js</a></li><li><a href="../files/public_javascripts_app_core_Preloader.js.html">Preloader.js</a></li><li><a href="../files/public_javascripts_app_core_ServerInterface.js.html">ServerInterface.js</a></li><li><a href="../files/public_javascripts_app_core_SignalDispatcher.js.html">SignalDispatcher.js</a></li><li><a href="../files/public_javascripts_app_core_SpinEvaluator.js.html">SpinEvaluator.js</a></li></ul></li><li>utils/<ul><li><a href="../files/public_javascripts_app_utils_QueueFactory.js.html">QueueFactory.js</a></li><li><a href="../files/public_javascripts_app_utils_Utils.js.html">Utils.js</a></li></ul></li></ul></li></ul></li></ul></li></ul>
                </div>
            </div>
            
        </div>

        <div id="main" class="yui3-u">
            <div class="content"><h4>Class SpinEvaluator</h4>
<span class="foundat">Class defined in: <a href="../files/public_javascripts_app_core_SpinEvaluator.js.html#l9"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;SpinEvaluator.js:9</code></a></span>
<div class="intro"><p>This class is designed to handle spin responses, evaluate any win condition,
and call any win animations necessary.</p>
</div>

    <a name="methods_SpinEvaluator"></a>
    <div class="method item">
         <strong class="name"><code>SpinEvaluator</code></strong>( <code>  </code> ) 
        <br>
        <span class="foundat">
            
            <a href="../files/public_javascripts_app_core_SpinEvaluator.js.html#l9"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;SpinEvaluator.js:9</code></a>
        </span><br>
        
    </div>

<div id="classdocs">
    <ul>
        <li><a href="#methods">Methods</a></li>
        <li><a href="#props">Properties</a></li>
    </ul>
    <div>
            <div id="methods">
<a name="methods_doClientSideGaffe"></a>
<div class="method item">
     <strong class="name"><code>doClientSideGaffe</code></strong>( <code>  </code> ) 
    <br>
    <span class="foundat">
        
        <a href="../files/public_javascripts_app_core_SpinEvaluator.js.html#l287"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;SpinEvaluator.js:287</code></a>
    </span><br>
    
</div>
<a name="methods_getNumWinsOnPayline"></a>
<div class="method item">
    Number <strong class="name"><code>getNumWinsOnPayline</code></strong>( <code>frameLabels, winningType </code> ) 
    <br>
    <span class="foundat">
        
        <a href="../files/public_javascripts_app_core_SpinEvaluator.js.html#l211"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;SpinEvaluator.js:211</code></a>
    </span><br>
    <p>Takes an array of frameLabels along a payline and the winningType in spinResponse
Compare the symbols along the payline match the winningType symbol id, or the wild symbol ID (hardcoded here to 0)
and return the number of winning symbols on the payline</p>

    <strong>Parameters:</strong>
    <ul class="params">
        <li>
            <code>frameLabels</code> <strong>&lt;Array&gt;</strong>
        <ul>
<li>eg [&quot;m2&quot;, &quot;m1&quot;, &quot;m1&quot;, &quot;f4&quot;, &quot;f5&quot;]</li>
</ul>

        </li>
        <li>
            <code>winningType</code> <strong>&lt;Number&gt;</strong>
        <ul>
<li>the winning type id from the spin response - eg 1 (which is an m1 symbol)</li>
</ul>

        </li>
    </ul>
    <br><div class="returns"><strong>Returns:</strong> &lt;Number&gt; <p>the number of winning symbols on this payline which should show animated win</p>
</div>
</div>
<a name="methods_getSymbolDataOnPayline"></a>
<div class="method item">
    Array <strong class="name"><code>getSymbolDataOnPayline</code></strong>( <code>paylineIndex, stops </code> ) 
    <br>
    <span class="foundat">
        
        <a href="../files/public_javascripts_app_core_SpinEvaluator.js.html#l260"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;SpinEvaluator.js:260</code></a>
    </span><br>
    
    <strong>Parameters:</strong>
    <ul class="params">
        <li>
            <code>paylineIndex</code> <strong>&lt;Object&gt;</strong>
         
        </li>
        <li>
            <code>stops</code> <strong>&lt;Object&gt;</strong>
         
        </li>
    </ul>
    <br><div class="returns"><strong>Returns:</strong> &lt;Array&gt; </div>
</div>
<a name="methods_getSymbolLabelsOnPayline"></a>
<div class="method item">
    Array <strong class="name"><code>getSymbolLabelsOnPayline</code></strong>( <code>paylineIndex, stops </code> ) 
    <br>
    <span class="foundat">
        
        <a href="../files/public_javascripts_app_core_SpinEvaluator.js.html#l245"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;SpinEvaluator.js:245</code></a>
    </span><br>
    
    <strong>Parameters:</strong>
    <ul class="params">
        <li>
            <code>paylineIndex</code> <strong>&lt;Object&gt;</strong>
         
        </li>
        <li>
            <code>stops</code> <strong>&lt;Object&gt;</strong>
         
        </li>
    </ul>
    <br><div class="returns"><strong>Returns:</strong> &lt;Array&gt; </div>
</div>
<a name="methods_handleReeSpinComplete"></a>
<div class="method item">
     <strong class="name"><code>handleReeSpinComplete</code></strong>( <code>  </code> ) 
    <br>
    <span class="foundat">
        
        <a href="../files/public_javascripts_app_core_SpinEvaluator.js.html#l274"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;SpinEvaluator.js:274</code></a>
    </span><br>
    <p>Dispatched by ReelsComponent when the reel spin stops.
Here we can setup any necessary win animations, and update the meter.</p>

</div>
<a name="methods_init"></a>
<div class="method item">
     <strong class="name"><code>init</code></strong>( <code>setup, signalDispatcher, winAnimationQueue, slotInit </code> ) 
    <br>
    <span class="foundat">
        
        <a href="../files/public_javascripts_app_core_SpinEvaluator.js.html#l67"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;SpinEvaluator.js:67</code></a>
    </span><br>
    <p>Initialise Class dependencies
Create signal handlers related to win animation</p>

    <strong>Parameters:</strong>
    <ul class="params">
        <li>
            <code>setup</code> <strong>&lt;Object&gt;</strong>
         
        </li>
        <li>
            <code>signalDispatcher</code> <strong>&lt;G.SignalDispatcher&gt;</strong>
         
        </li>
        <li>
            <code>winAnimationQueue</code> <strong>&lt;G.CommandQueue&gt;</strong>
         
        </li>
        <li>
            <code>slotInit</code> <strong>&lt;Object&gt;</strong>
         
        </li>
    </ul>
</div>
<a name="methods_insertBigWinCommands"></a>
<div class="method item">
     <strong class="name"><code>insertBigWinCommands</code></strong>( <code>commands, numSymbols, winningFrameLabel </code> ) 
    <br>
    <span class="foundat">
        
        <a href="../files/public_javascripts_app_core_SpinEvaluator.js.html#l186"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;SpinEvaluator.js:186</code></a>
    </span><br>
    <p>Adds big win animation to the beginning of a win animation command queue</p>

    <strong>Parameters:</strong>
    <ul class="params">
        <li>
            <code>commands</code> <strong>&lt;Object&gt;</strong>
         
        </li>
        <li>
            <code>numSymbols</code> <strong>&lt;Object&gt;</strong>
         
        </li>
        <li>
            <code>winningFrameLabel</code> <strong>&lt;Object&gt;</strong>
         
        </li>
    </ul>
</div>
<a name="methods_queueWinAnimation"></a>
<div class="method item">
     <strong class="name"><code>queueWinAnimation</code></strong>( <code>spinResponse </code> ) 
    <br>
    <span class="foundat">
        
        <a href="../files/public_javascripts_app_core_SpinEvaluator.js.html#l88"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;SpinEvaluator.js:88</code></a>
    </span><br>
    <p>As soon as the spinRepsonse is returned, we are ready to queue up a win animation
The win animation itself will play on &quot;reelSpinCompleted&quot; signal.
The steps to queue the win animation as follows:</p>
<ol>
<li>Use the spin response to test the number spinRecords received.</li>
</ol>

    <strong>Parameters:</strong>
    <ul class="params">
        <li>
            <code>spinResponse</code> <strong>&lt;Object&gt;</strong>
         
        </li>
    </ul>
</div>
            </div>
            <div id="props">
                <a name="props_setup"></a>
                <div class="props item">
                    <code>setup</code> &lt;<strong>Object</strong>&gt;<br>
                    <span class="foundat"><a href="../files/public_javascripts_app_core_SpinEvaluator.js.html#l20"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;SpinEvaluator.js:20</code></a></span>
                    
                </div>
                <a name="props_signalDispatcher"></a>
                <div class="props item">
                    <code>signalDispatcher</code> &lt;<strong>G.SignalDispatcher</strong>&gt;<br>
                    <span class="foundat"><a href="../files/public_javascripts_app_core_SpinEvaluator.js.html#l33"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;SpinEvaluator.js:33</code></a></span>
                    
                </div>
                <a name="props_slotInit"></a>
                <div class="props item">
                    <code>slotInit</code> &lt;<strong>Object</strong>&gt;<br>
                    <span class="foundat"><a href="../files/public_javascripts_app_core_SpinEvaluator.js.html#l27"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;SpinEvaluator.js:27</code></a></span>
                    
                </div>
                <a name="props_winAnimationQueue"></a>
                <div class="props item">
                    <code>winAnimationQueue</code> &lt;<strong>G.CommandQueue</strong>&gt;<br>
                    <span class="foundat"><a href="../files/public_javascripts_app_core_SpinEvaluator.js.html#l40"><code>public&#x2F;javascripts&#x2F;app&#x2F;core&#x2F;SpinEvaluator.js:40</code></a></span>
                    <p>Used here to prepare and run win animations.</p>
                
                </div>
            </div>
    </div>
</div>
</div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/js/tabs.js"></script>
</body>
</html>
