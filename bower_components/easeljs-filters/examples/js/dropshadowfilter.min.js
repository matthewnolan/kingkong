/*
GitHub : https://github.com/u-kudox/Filters_for_EaselJS
License : public domain
*/
this.createjs=this.createjs||{},function(){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l){void 0!==a&&(this._distance=a),void 0!==c&&(this._angle=(c%360+360)%360),b.call(this,this._distance,this._angle),isNaN(d)||(this.color=d),void 0!==e&&(this.alpha=e),this._blurFilter=new createjs.BlurFilter(f,g,i),void 0!==h&&(this.strength=h>>0),this.inner=!!j,this.knockout=!!k,this.hideObject=!!l}function b(a,b){var c=b*createjs.Matrix2D.DEG_TO_RAD;this._offsetX=Math.cos(c)*a,this._offsetY=Math.sin(c)*a}var c=a.prototype=Object.create(createjs.Filter.prototype);c.constructor=a,c.alpha=1,c.strength=1,c.inner=!1,c.knockout=!1,c.hideObject=!1,Object.defineProperties(c,{angle:{get:function(){return this._angle},set:function(a){return a=(a%360+360)%360,b.call(this,this._distance,a),this._angle=a},enumerable:!0},distance:{get:function(){return this._distance},set:function(a){return b.call(this,a,this._angle),this._distance=a},enumerable:!0},color:{get:function(){return this._red<<16|this._green<<8|this._blue},set:function(a){return this._red=a>>16&255,this._green=a>>8&255,this._blue=255&a,this.color},enumerable:!0},blurX:{get:function(){return this._blurFilter.blurX},set:function(a){return this._blurFilter.blurX=a},enumerable:!0},blurY:{get:function(){return this._blurFilter.blurY},set:function(a){return this._blurFilter.blurY=a},enumerable:!0},quality:{get:function(){return this._blurFilter.quality},set:function(a){return this._blurFilter.quality=a},enumerable:!0}}),c._angle=45,c._distance=4,c._offsetX=0,c._offsetY=0,c._red=0,c._green=0,c._blue=0,c._blurFilter=null,c.getBounds=function(){if(this.inner)return null;var a=this._blurFilter.getBounds(),b=this._offsetX,c=this._offsetY;return 0!==b&&(0>b?(a.x+=b,a.width+=-b):a.width+=b),0!==c&&(0>c?(a.y+=c,a.height+=-c):a.height+=c),a},c.applyFilter=function(a,b,c,d,e,f,g,h){if((this.alpha<=0||this.strength<=0)&&!this.knockout&&!this.hideObject)return!0;f=f||a,void 0===g&&(g=b),void 0===h&&(h=c);var i=f.getImageData(g,h,d,e),j=i.data,k=document.createElement("canvas");k.width=d,k.height=e;for(var l=k.getContext("2d"),m=l.getImageData(0,0,d,e),n=m.data,o=this.inner,p=this._red,q=this._green,r=this._blue,s=0,t=n.length;t>s;s+=4){var u=s+3,v=j[u];o?255!==v&&(n[s]=p,n[s+1]=q,n[s+2]=r,n[u]=255-v):0!==v&&(n[s]=p,n[s+1]=q,n[s+2]=r,n[u]=v)}l.putImageData(m,0,0);var w=this.strength;if(w>0){this._blurFilter.applyFilter(l,0,0,d,e),w>255&&(w=255);for(var x=1;w>x;x++)l.drawImage(k,0,0)}var y=this.alpha;0>y?y=0:y>1&&(y=1);var z;return z=this.knockout?o?"source-in":"source-out":this.hideObject?o?"source-in":"copy":o?"source-atop":"destination-over",f.save(),f.setTransform(1,0,0,1,0,0),f.globalAlpha=y,f.globalCompositeOperation=z,f.drawImage(k,g+this._offsetX,h+this._offsetY),f.restore(),!0},c.clone=function(){var a=this._blurFilter;return new createjs.DropShadowFilter(this._distance,this._angle,this.color,this.alpha,a.blurX,a.blurY,this.strength,a.quality,this.inner,this.knockout,this.hideObject)},c.toString=function(){return"[DropShadowFilter]"},createjs.DropShadowFilter=a}(window);